<!DOCTYPE html>
<html>
<header>

<link rel="stylesheet" href="vmcss.css"/>


<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js">
</script>

</header>
<body>


<div class="machine">
	<div class="inner">
		<div class="arm">
			<div class="hand"></div>
		</div>
		
		<div class="shelf" data-shelf="A">
			<div class="container" data-can="1">
				<div class="can"></div>
			</div>
			<div class="container" data-can="2">
				<div class="can"></div>
			</div>
			<div class="container" data-can="3">
				<div class="can"></div>
			</div>
			<div class="container" data-can="4">
				<div class="can"></div>
			</div>
			<div class="container" data-can="5">
				<div class="can"></div>
			</div>
		</div>
		
		<div class="shelf" data-shelf="B">
			<div class="container" data-can="1">
				<div class="can"></div>
			</div>
			<div class="container" data-can="2">
				<div class="can"></div>
			</div>
			<div class="container" data-can="3">
				<div class="can"></div>
			</div>
			<div class="container" data-can="4">
				<div class="can"></div>
			</div>
			<div class="container" data-can="5">
				<div class="can"></div>
			</div>
		</div>
		
		<div class="shelf" data-shelf="C">
			<div class="container" data-can="1">
				<div class="can"></div>
			</div>
			<div class="container" data-can="2">
				<div class="can"></div>
			</div>
			<div class="container" data-can="3">
				<div class="can"></div>
			</div>
			<div class="container" data-can="4">
				<div class="can"></div>
			</div>
			<div class="container" data-can="5">
				<div class="can"></div>
			</div>
		</div>
		
		<div class="shelf" data-shelf="D">
			<div class="container" data-can="1">
				<div class="can"></div>
			</div>
			<div class="container" data-can="2">
				<div class="can"></div>
			</div>
			<div class="container" data-can="3">
				<div class="can"></div>
			</div>
			<div class="container" data-can="4">
				<div class="can"></div>
			</div>
			<div class="container" data-can="5">
				<div class="can"></div>
			</div>
		</div>
		
		<div class="shelf" data-shelf="E">
			<div class="container" data-can="1">
				<div class="can"></div>
			</div>
			<div class="container" data-can="2">
				<div class="can"></div>
			</div>
			<div class="container" data-can="3">
				<div class="can"></div>
			</div>
			<div class="container" data-can="4">
				<div class="can"></div>
			</div>
			<div class="container" data-can="5">
				<div class="can"></div>
			</div>
		</div>

	</div>
	
	<div class="glass">
	</div>
	
	<div class="tray-inner">
	</div>
	
	<div class="tray">
	</div>
	
	<div class="numberpad">
	</div>
</div>


<div class="numpad" style="display: none">
<div class="current-input"></div>
</div>



<script type="text/javascript" src="vmjs.js"></script>

<script type = "text/javascript">
         function WebSocketTest() {
            
            if ("WebSocket" in window) {
               
               // Let us open a web socket
               var ws = new WebSocket("ws://localhost:8082");
				
               ws.onopen = function() {
                  
                  // Web Socket is connected, send data using send()
                  ws.send("Message to send");
               };
				
               ws.onmessage = function (evt) { 
                  var received_msg = evt.data;
                  console.log("Message is received..."+received_msg);
				  if(typeof received_msg === 'string' && received_msg.length == 2){
					vendingMachine.vendBeverage(received_msg);
				  }
               };
				
               ws.onclose = function() { 
                  
                  // websocket is closed.
               };
            } else {
              
               // The browser doesn't support WebSocket
               alert("WebSocket NOT supported by your Browser!");
            }
         }
		 setInterval(function(){WebSocketTest();}, 3000);
      </script>
	  
</body>
</html>